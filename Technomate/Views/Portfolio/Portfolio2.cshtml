@model IEnumerable<Technomate.Models.Portfolio>

@{
    Layout = "_Layout2";
    var categories = ViewBag.Categories as List<string>;
}

<body class="projects-page">

    <main class="main">

        <!-- Page Title -->
        <div class="page-title dark-background" style="background-image: url(/assets/img/page-title-bg.jpg);">
            <div class="container position-relative">
                <h1>Projects</h1>
                <nav class="breadcrumbs">
                    <ol>
                        <li><a asp-controller="Home" asp-action="Index">Home</a></li>
                        <li class="current">Projects</li>
                    </ol>
                </nav>
            </div>
        </div>
        <!-- End Page Title -->
        <!-- Projects Section -->
        <section id="projects" class="projects section">
            <div class="container">

                <div class="isotope-layout" data-default-filter="*" data-layout="masonry">

                    <!-- Filters -->
                    <ul class="portfolio-filters isotope-filters">
                        <li data-filter="*" class="filter-active">All</li>
                        @if (categories != null)
                        {
                            foreach (var cat in categories)
                            {
                                <li data-filter=".filter-@cat.Replace(" ", "").ToLower()">
                                    @cat
                                </li>
                            }
                        }
                    </ul>

                    <!-- Portfolio Items -->
                    <div class="row gy-4 isotope-container">

                        @foreach (var item in Model)
                        {
                            var filterClass = "filter-" + item.Category.Replace(" ", "").ToLower();

                            <div class="col-lg-4 col-md-6 portfolio-item isotope-item @filterClass">
                                <div class="portfolio-content h-100">

                                    <img src="@item.ImageUrl"
                                         class="img-fluid"
                                         alt="@item.Title" />

                                    <div class="portfolio-info">
                                        <h4>@item.Title</h4>
                                        <p>@item.ShortDescription</p>

                                        <a href="@item.ImageUrl"
                                           data-gallery="portfolio-gallery"
                                           class="glightbox preview-link"
                                           title="@item.Title">
                                            <i class="bi bi-zoom-in"></i>
                                        </a>

                                        <a asp-controller="Portfolio"
                                           asp-action="PortfolioDetails2"
                                           asp-route-id="@item.Id"
                                           class="details-link"
                                           title="More Details">
                                            <i class="bi bi-link-45deg"></i>
                                        </a>
                                    </div>

                                </div>
                            </div>
                        }

                    </div>
                    <!-- End Portfolio Container -->

                </div>

            </div>
        </section>
        <!-- End Projects Section -->

    </main>

</body>
